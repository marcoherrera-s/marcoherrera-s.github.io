<!doctype html> <html lang=en > <div class=toggle-switch > <label class=switch-label > <input type=checkbox  class=checkbox  id=dark-mode-toggle > <span class=slider ></span> </label> </div> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <meta name=google-site-verification  content=21AT8iolyuvHcdcAj2bmdauq6mqEd4a1fF4q-bsSUQY  /> <title>¿Por qué aprender SQL?</title> <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel=stylesheet > <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&display=swap" rel=stylesheet > <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/tufte.css"> <link rel=stylesheet  href="/css/latex.css"> <link rel=stylesheet  href="/css/adjust.css"> <link id=dark-mode-style  rel=stylesheet  href="/css/dark-mode2.css" disabled> <script src="https://kit.fontawesome.com/1966c00f87.js" crossorigin=anonymous ></script> <link id=highlight-style-light  rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link id=highlight-style-dark  rel=stylesheet  href="/libs/highlight/styles/lioshi.min.css" disabled> <script src="/dark-mode.js" defer></script> <div id=layout > <div id=menu > <ul> <li><a href="/menu1">Física </a> <li><a href="/menu2/">Miscelánea</a> <li><a href="/"><i class="fa-duotone fa-solid fa-house-chimney fa-xs"></i> <li><a href="/menu3/">Extra</a> <li><a href="/menu4/">Otro</a> </ul> </div> <div id=main > <script src="/script.js" defer></script> <script async defer src="//assets.pinterest.com/js/pinit.js"></script> <div class=franklin-content ><h1 id="por_qué_aprender_sql"><a href="#por_qué_aprender_sql" class=header-anchor >¿Por qué aprender SQL?</a></h1> <div class=franklin-toc ><ol><li><a href="#select">SELECT</a><ol><li><a href="#distinct">DISTINCT</a><li><a href="#where">WHERE</a><li><a href="#order_by">ORDER BY</a><li><a href="#like">LIKE </a><li><a href="#not_and_or">NOT, AND, OR</a><li><a href="#limit">LIMIT </a><li><a href="#null">NULL</a><li><a href="#max_min">MAX, MIN</a><li><a href="#count">COUNT </a><li><a href="#in">IN</a><li><a href="#between">BETWEEN </a><li><a href="#alias">ALIAS</a><li><a href="#concat">CONCAT</a><li><a href="#group_by">GROUP BY</a><li><a href="#case">CASE </a><li><a href="#ifnull">IFNULL</a></ol><li><a href="#writing">WRITING</a><ol><li><a href="#insert">INSERT</a><li><a href="#update">UPDATE</a><li><a href="#delete">DELETE</a></ol><li><a href="#data_bases">DATA BASES</a><li><a href="#tables">TABLES</a><ol><li><a href="#create_table">CREATE TABLE</a><li><a href="#drop_table">DROP TABLE</a><li><a href="#alter_table">ALTER TABLE</a><li><a href="#relationships">RELATIONSHIPS</a><ol><li><a href="#relación_1_1">Relación 1 : 1</a></ol><li><a href="#relación_1_n">Relación 1 : N</a><li><a href="#relación_n_m">Relación N : M</a></ol><li><a href="#join">JOIN</a><ol><li><a href="#inner_join">INNER JOIN</a><li><a href="#left_join">LEFT JOIN</a><li><a href="#right_join">RIGHT JOIN</a></ol><li><a href="#avanzados">AVANZADOS</a><ol><li><a href="#index">INDEX</a></ol></ol></div> <p>Decidí aprender SQL por una sencilla razón, estoy de vacaciones. Qué tal un día se me cruza una chambita que requiera saberle a esto &#40;dios no lo quiera&#41; y pues mejor saberle. Ahorita que no estoy cursando materias, me sobra mucho tiempo para ver qué tal. Si por algún motivo deseo abandonar esta tarea, también quedará registrado aquí. Todo lo aprendido aquí se consultó del siguiente <a href="https://youtu.be/OuJerKzV5T0?si&#61;tc8CdUpsWDFqWcW4">curso</a>.</p> <hr /> <p>La primera pared con la que me topé fue el primer día, tal vez una pared un poco rídicula, instalar SQL. Para dar un poco de contexto, el SO que tiene mi computadora es Linux &#40;I use Arch btw&#41;, las razones por la que decidí usar Linux en lugar de Windows están fuera de lugar en esta entrada, lo que puedo decir es que me gusta más cómo se comporta mi computadora ahora, aunque no es broma si te digo que tuve que consultar 34 foros para descubrir cómo cambiar mi fondo de pantalla, sí, me gusta complicarme la vida. </p> <p>Entonces bueno, en resumen tardé horas tratando de instalar MySQL, pues cuando trataba de instalarlo como normalmente se hace, haciendo: <code>sudo pacman -S mysql</code>, me decía que podía instalar un paquete similar llamado <strong>MariaDB</strong>, la neta todo esto me pasa por andar de necio y flojo para leer, porque ahí voy diciendo <em>no, no, no</em> yo quiero instalar MySQL, busqué el paquete en el AUR de Arch, cloné el repositorio y se tardó HORAS instalando para que al final no funcionara. Al final me di cuenta, que ***básicamente*** instalar MariaDB y MySQL era lo mimso. Instalar MariaDB me tomó minutos y configurarlo otros cuántos más. </p> <hr /> <p>Después de pelearme otro rato tratando de buscar una interfaz gráfica para comenzar a trabajar, me quedé con <strong>MySQL Workbench</strong>.</p> <p>Cree una pequeña base de datos usando la interfaz, nada de código aún, y lo primero que aprendí fue:</p> <p>¡Entendido&#33; Aquí están todas las líneas de código transformadas al formato solicitado:</p> <h4 id=select ><a href="#select" class=header-anchor >SELECT</a></h4> <pre><code class="julia hljs">SELECT * FROM table; <span class=hljs-comment ># para seleccionar toda la tabla</span></code></pre>
<pre><code class="julia hljs">SELECT * name FROM table; <span class=hljs-comment ># para seleccionar la columna _name_ de la tabla</span></code></pre>
<pre><code class="julia hljs">SELECT * user_id, name FROM table; <span class=hljs-comment ># para seleccionar más columnas</span></code></pre>
<h4 id=distinct ><a href="#distinct" class=header-anchor >DISTINCT</a></h4>
<pre><code class="julia hljs">SELECT DISTINCT * FROM users; <span class=hljs-comment ># selecciona los valores distintos</span></code></pre>
<pre><code class="julia hljs">SELECT DISTINCT email FROM users; <span class=hljs-comment ># selecciona los diferentes emails de mi tabla users</span></code></pre>
<p>Creo que aprender SQL es simplemente aprenderte un montón de comandos.</p>
<h4 id=where ><a href="#where" class=header-anchor >WHERE</a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE name=<span class=hljs-string >&quot;Marco&quot;</span>; <span class=hljs-comment ># selecciona usuarios donde el nombre es Marco</span></code></pre>
<pre><code class="julia hljs">SELECT name FROM users WHERE surname=<span class=hljs-string >&quot;Herrera&quot;</span>; <span class=hljs-comment ># selecciona el nombre de los usuarios cuyo apellido es Herrera</span></code></pre>
<pre><code class="julia hljs">SELECT DISTINCT name FROM users WHERE surname=<span class=hljs-string >&quot;Herrera&quot;</span>; <span class=hljs-comment ># selecciona nombres distintos de usuarios cuyo apellido es Herrera</span></code></pre>
<h4 id=order_by ><a href="#order_by" class=header-anchor >ORDER BY</a></h4>
<pre><code class="julia hljs">SELECT * FROM users ORDER BY name; <span class=hljs-comment ># ordena los usuarios por nombre de forma ascendente</span></code></pre>
<pre><code class="julia hljs">SELECT * FROM users ORDER BY name DESC; <span class=hljs-comment ># ordena los usuarios por nombre de forma descendente</span></code></pre>
<h4 id=like ><a href="#like" class=header-anchor >LIKE </a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE email LIKE &#x27;%gmail.com&#x27;; <span class=hljs-comment ># selecciona usuarios cuyo email termina en gmail.com</span></code></pre>
<pre><code class="julia hljs">SELECT * FROM users WHERE name LIKE &#x27;%m%&#x27;; <span class=hljs-comment ># busca en la columna de nombres, aquellos que contienen la letra m</span></code></pre>
<h4 id=not_and_or ><a href="#not_and_or" class=header-anchor >NOT, AND, OR</a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE email NOT LIKE <span class=hljs-string >&quot;%gmail.com&quot;</span> or surname=<span class=hljs-string >&quot;Herrera&quot;</span>; <span class=hljs-comment ># selecciona usuarios cuyo email no contiene gmail.com o cuyo apellido es Herrera</span></code></pre>
<h4 id=limit ><a href="#limit" class=header-anchor >LIMIT </a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE name LIKE <span class=hljs-string >&quot;%m%&quot;</span> LIMIT <span class=hljs-number >2</span>; <span class=hljs-comment ># selecciona hasta dos usuarios cuyo nombre contenga la letra m</span></code></pre>
<h4 id=null ><a href="#null" class=header-anchor >NULL</a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE email IS NOT NULL; <span class=hljs-comment ># selecciona usuarios cuyo email no es nulo</span></code></pre>
<h4 id=max_min ><a href="#max_min" class=header-anchor >MAX, MIN</a></h4>
<pre><code class="julia hljs">SELECT MAX(init_date) FROM users; <span class=hljs-comment ># devuelve la fecha inicial más reciente entre los usuarios</span></code></pre>
<h4 id=count ><a href="#count" class=header-anchor >COUNT </a></h4>
<pre><code class="julia hljs">SELECT COUNT(*) FROM users; <span class=hljs-comment ># cuenta el total de usuarios</span></code></pre>
<h4 id=in ><a href="#in" class=header-anchor >IN</a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE name IN (&#x27;marco&#x27;, &#x27;roman&#x27;); <span class=hljs-comment ># selecciona usuarios cuyo nombre es Marco o Roman</span></code></pre>
<h4 id=between ><a href="#between" class=header-anchor >BETWEEN </a></h4>
<pre><code class="julia hljs">SELECT * FROM users WHERE age BETWEEN <span class=hljs-number >12</span> and <span class=hljs-number >20</span>; <span class=hljs-comment ># selecciona usuarios cuyo edad está entre 12 y 20 años</span></code></pre>
<h4 id=alias ><a href="#alias" class=header-anchor >ALIAS</a></h4>
<pre><code class="julia hljs">SELECT name, init_date AS &#x27;Fecha de Inicio&#x27; FROM users WHERE age BETWEEN <span class=hljs-number >10</span> and <span class=hljs-number >20</span>; <span class=hljs-comment ># selecciona nombre y fecha de inicio como &#x27;Fecha de Inicio&#x27; para usuarios entre 10 y 20 años</span></code></pre>
<h4 id=concat ><a href="#concat" class=header-anchor >CONCAT</a></h4>
<pre><code class="julia hljs">SELECT concat(name, <span class=hljs-string >&#x27; &#x27;</span>, surname) FROM users; <span class=hljs-comment ># concatena el nombre y el apellido</span></code></pre>
<pre><code class="julia hljs">SELECT concat(name, <span class=hljs-string >&#x27; &#x27;</span>, surname) AS &#x27;Nombre Completo&#x27; FROM users; <span class=hljs-comment ># concatena el nombre y el apellido y lo muestra como &#x27;Nombre Completo&#x27;</span></code></pre>
<h4 id=group_by ><a href="#group_by" class=header-anchor >GROUP BY</a></h4>
<pre><code class="julia hljs">SELECT COUNT(age), age FROM users GROUP BY age ORDER BY age ASC; <span class=hljs-comment ># cuenta la cantidad de usuarios por edad y los ordena de menor a mayor edad</span></code></pre>
<h4 id=case ><a href="#case" class=header-anchor >CASE </a></h4>
<pre><code class="julia hljs">SELECT *, 
CASE
	WHEN age &gt; <span class=hljs-number >17</span> THEN &#x27;Es mayor de edad&#x27;
    ELSE &#x27;NO eres mayor de edad&#x27;
END AS agetext
FROM users; <span class=hljs-comment ># asigna un texto dependiendo si el usuario es mayor de edad o no</span></code></pre>
<h4 id=ifnull ><a href="#ifnull" class=header-anchor >IFNULL</a></h4>
<pre><code class="julia hljs">SELECT name, surname, IFNULL(email, &#x27;no email&#x27;) FROM users; <span class=hljs-comment ># selecciona nombre, apellido y email, pero si el email es nulo muestra &#x27;no email&#x27;</span></code></pre>
<h3 id=writing ><a href="#writing" class=header-anchor >WRITING</a></h3>
<h4 id=insert ><a href="#insert" class=header-anchor >INSERT</a></h4>
<pre><code class="julia hljs">INSERT INTO users (name, surname) VALUES (&#x27;Julio&#x27;, &#x27;Perez&#x27;); <span class=hljs-comment ># inserta un nuevo usuario llamado Julio Perez</span></code></pre>
<h4 id=update ><a href="#update" class=header-anchor >UPDATE</a></h4>
<pre><code class="julia hljs">UPDATE users SET age = &#x27;<span class=hljs-number >21</span>&#x27; WHERE user_id = <span class=hljs-number >9</span>; <span class=hljs-comment ># actualiza la edad del usuario con id 9 a 21 años</span></code></pre>
<h4 id=delete ><a href="#delete" class=header-anchor >DELETE</a></h4>
<pre><code class="julia hljs">DELETE FROM users WHERE user_id = <span class=hljs-number >8</span>; <span class=hljs-comment ># elimina el usuario con id 8</span></code></pre>
<h3 id=data_bases ><a href="#data_bases" class=header-anchor >DATA BASES</a></h3>
<pre><code class="julia hljs">CREATE DATABASE test; <span class=hljs-comment ># crea una base de datos llamada test</span></code></pre>
<pre><code class="julia hljs">DROP DATABASE test; <span class=hljs-comment ># elimina la base de datos llamada test</span></code></pre>
<h3 id=tables ><a href="#tables" class=header-anchor >TABLES</a></h3>
<h4 id=create_table ><a href="#create_table" class=header-anchor >CREATE TABLE</a></h4>
<pre><code class="julia hljs">CREATE TABLE persons (
	id int NOT NULL AUTO_INCREMENT,
    name varchar(<span class=hljs-number >100</span>) NOT NULL,
    age int,
    email varchar(<span class=hljs-number >50</span>),
    created datetime DEFAULT CURRENT_TIMESTAMP(),
    UNIQUE(id),


    PRIMARY KEY(id),
    CHECK(age&gt;=<span class=hljs-number >18</span>)
); <span class=hljs-comment ># crea una tabla llamada persons con varias columnas y restricciones</span></code></pre>
<h4 id=drop_table ><a href="#drop_table" class=header-anchor >DROP TABLE</a></h4>
<pre><code class="julia hljs">DROP TABLE persons; <span class=hljs-comment ># elimina la tabla llamada persons</span></code></pre>
<h4 id=alter_table ><a href="#alter_table" class=header-anchor >ALTER TABLE</a></h4>
<pre><code class="julia hljs">ALTER TABLE persons8
ADD surname varchar(<span class=hljs-number >150</span>);</code></pre>
<pre><code class="julia hljs">ALTER TABLE persons8
RENAME COLUMN surname TO description;</code></pre>
<pre><code class="julia hljs">ALTER TABLE persons8
MODIFY COLUMN description varchar(<span class=hljs-number >250</span>);</code></pre>
<pre><code class="julia hljs">ALTER TABLE persons8
DROP COLUMN description;</code></pre>
<p>Bueno, a partir de aquí retomé el estudio de esto después de una semana. </p>
<h4 id=relationships ><a href="#relationships" class=header-anchor >RELATIONSHIPS</a></h4>
<p>Aquí tenemos distintos tipos de relaciones, SQL, por lo que estoy entendiendo, una de sus fortalezas es que se especializa en bases de datos relacionales. Hay distintos tipos de relaciones, y estas serían:</p>
<h6 id="relación_1_1"><a href="#relación_1_1" class=header-anchor >Relación 1 : 1</a></h6>
<p>Esta está un poco clara, nos dice que hay una relación entre el registro de una Tabla A y el registro de una Tabla B. </p>
<p>Aquí vemos que el registro user<em>id de la tabla &quot;dni&quot; es clave foránea de la clave primaria user</em>id de la tabla &quot;users&quot;</p>
<pre><code class="julia hljs">CREATE TABLE dni(
	dni_id int AUTO_INCREMENT PRIMARY KEY,
    dni_number int NOT NULL,
    user_id int,
    UNIQUE(dni_id),
    FOREIGN KEY(user_id) REFERENCES users(user_id)
)</code></pre>
<h6 id="relación_1_n"><a href="#relación_1_n" class=header-anchor >Relación 1 : N</a></h6>
<p>Aquí, casi de forma análoga se habla de una relación que puede tener un registro con N registros, el ejemplo que da el curso que estoy siguiendo es el de crear una nueva tabla que se encargue de los registros de nombres de compañias, un empleado puede tener varias compañías pero claramente las compañías pueden tener varios empleados. </p>
<p>La neta siento que está bien triste estar trabajando con estos términos de que: empleado, compañía, registro, etc. Pero bueno, es lo que toca.</p>
<p>Primero creamos esa tabla de compañías.</p>
<pre><code class="julia hljs">CREATE TABLE companies(
	company_id int AUTO_INCREMENT PRIMARY KEY,
    name varchar(<span class=hljs-number >100</span>) NOT NULL
)</code></pre>
<p>Después en el tutorial, se utilizó la interfaz gráfica para agregar una columna más a la tabla de users, nombŕandola <em>company</em>id_, esta sería nuestra clave foránea, pues es la clave primaria de nuestra otra tabla llamada companies. Entonces, la cree, usando la interfaz, y tal vez, sea más fácil agregar más columnas de esta forma. Después se alteró de la siguiente forma:</p>
<pre><code class="julia hljs">ALTER TABLE users 
ADD CONSTRAINT fk_companies
FOREIGN KEY(company_id) REFERENCES companies(company_id)</code></pre>
<p>Ok, tenía un problemita en entender el ADD CONSTRAINT, pero pues justamente es la línea que añade que habrá una restricción en la tabla users, esta cobra sentido en la siguiente línea pues especifica de qué tratará la constricción, en la relación 1:N no ocupamos esto porque no creabamos ninguna nueva columna en ninguna tabla. O al menos eso es lo que creo. </p>
<p>Aquí hago un paréntesis. Quiero hablar de la palabra <em>constraint</em>, esta palabra fue muy común para mí mientras tomaba mi curso de mecánica analítica, pues al estudiar el formalismo lagrangiano se habla de estas <em>constraints</em>. Mi problema con esta palabra es su traducción, la traducción directa es la que escuché en mi curso y la que he escuchado más veces: <strong>constricción</strong>. Se me hace muy fea esta palabra porque siento que suena como cuando estás constriñido del estómago. Por otra parte, la traducción <em>restricción</em> se me hace un poco más buena, sin embargo, aunque sí es una restricción pierde el sentido de una relación que existe, que la traducción <em>ligadura</em> sí comprende, pero a mi parecer, dejando de lado el carácter restrictivo. Así que hasta ahora, no sé muy bien qué palabra me gustaría más usar en estos casos. Ojalá algún día la encuentre, pero no es broma cuando digo que siento un navajazo en el pecho cuando escucho <strong>constricción</strong>. Tal vez la que preferiría sería restricción, pues siento que el carácter restrictivo es más importante que el hecho de que sea claro que exista una relación.</p>
<h6 id="relación_n_m"><a href="#relación_n_m" class=header-anchor >Relación N : M</a></h6>
<p>El ejemplo que se pone acá es sencillo, creamos una tabla que contiene idiomas, y otra que contiene qué idiomas hablan los usuarios. Es N:M porque varios idiomas pueden ser hablados por varios usuarios y varios usuarios pueden hablar varios idiomas. </p>
<pre><code class="julia hljs">CREATE TABLE languages(
	language_id int AUTO_INCREMENT PRIMARY KEY,
    name varchar(<span class=hljs-number >100</span>) NOT NULL
);</code></pre>
<pre><code class="julia hljs">CREATE TABLE users_languages(
	users_language_id int AUTO_INCREMENT PRIMARY KEY,
    user_id int,
    language_id int,
    FOREIGN KEY(user_id) REFERENCES users(user_id),
    FOREIGN KEY(language_id) REFERENCES languages(language_id),
    UNIQUE (user_id, language_id)
);</code></pre>
<p>Para ir insertando datos en nuestra relación 1 : 1, tenemos que: </p>
<pre><code class="julia hljs">INSERT INTO dni (dni_number, user_id) VALUES (<span class=hljs-number >11111111</span>, <span class=hljs-number >1</span>);
INSERT INTO dni (dni_number, user_id) VALUES (<span class=hljs-number >22222222</span>, <span class=hljs-number >2</span>);
INSERT INTO dni (dni_number, user_id) VALUES (<span class=hljs-number >33333333</span>, <span class=hljs-number >3</span>);
INSERT INTO dni (dni_number) VALUES (<span class=hljs-number >44444444</span>);</code></pre>
<p>Para nuestra relación de 1 : N tenemos que agregar nuestros datos en la tabla que creamos, y actualizar la tabla del principio de la forma que ya se había visto:</p>
<pre><code class="julia hljs">INSERT INTO companies (name) VALUES (&#x27;MoureDev&#x27;);
INSERT INTO companies (name) VALUES (&#x27;Apple&#x27;);
INSERT INTO companies (name) VALUES (&#x27;Google&#x27;);

UPDATE users SET company_id = <span class=hljs-number >1</span> WHERE user_id = <span class=hljs-number >1</span>;
UPDATE users SET company_id = <span class=hljs-number >2</span> WHERE user_id = <span class=hljs-number >3</span>;
UPDATE users SET company_id = <span class=hljs-number >3</span> WHERE user_id = <span class=hljs-number >4</span>;
UPDATE users SET company_id = <span class=hljs-number >1</span> WHERE user_id = <span class=hljs-number >7</span>;</code></pre>
<p>Para nuestra relación de N : M, tendríamos:</p>
<pre><code class="julia hljs">INSERT INTO languages (name) VALUES (&#x27;Swift&#x27;);
INSERT INTO languages (name) VALUES (&#x27;Kotlin&#x27;);
INSERT INTO languages (name) VALUES (&#x27;JavaScript&#x27;);
INSERT INTO languages (name) VALUES (&#x27;Java&#x27;);
INSERT INTO languages (name) VALUES (&#x27;Python&#x27;);
INSERT INTO languages (name) VALUES (&#x27;C<span class=hljs-comment >#&#x27;);</span>
INSERT INTO languages (name) VALUES (&#x27;COBOL&#x27;);

INSERT INTO users_languages (user_id, language_id) VALUES (<span class=hljs-number >1</span>, <span class=hljs-number >1</span>);
INSERT INTO users_languages (user_id, language_id) VALUES (<span class=hljs-number >1</span>, <span class=hljs-number >2</span>);
INSERT INTO users_languages (user_id, language_id) VALUES (<span class=hljs-number >1</span>, <span class=hljs-number >5</span>);
INSERT INTO users_languages (user_id, language_id) VALUES (<span class=hljs-number >2</span>, <span class=hljs-number >3</span>);
INSERT INTO users_languages (user_id, language_id) VALUES (<span class=hljs-number >2</span>, <span class=hljs-number >5</span>);</code></pre>
<h3 id=join ><a href="#join" class=header-anchor >JOIN</a></h3>
<h4 id=inner_join ><a href="#inner_join" class=header-anchor >INNER JOIN</a></h4>
<pre><code class="julia hljs">SELECT * FROM users
INNER JOIN dni
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs">SELECT * FROM users
JOIN dni
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs">SELECT name, dni_number FROM users
JOIN dni
ON users.user_id = dni.user_id
ORDER BY age ASC;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene los datos de los usuarios que tienen empresa</span>
SELECT * FROM users
JOIN companies
ON users.company_id = companies.company_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene los datos de las empresas que tienen usuarios</span>
SELECT * FROM companies
JOIN users
ON users.company_id = companies.company_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene el nombre de las empresas junto al nombre de sus usuarios</span>
SELECT companies.name, users.name FROM companies
JOIN users
ON companies.company_id = users.company_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene los nombres de usuarios junto a los lenguajes que conocen</span>
SELECT users.name, languages.name
FROM users_languages
JOIN users ON users_languages.user_id=users.user_id
JOIN languages ON users_languages.language_id=languages.language_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene los nombres de usuarios junto a los lenguajes que conocen (utilizando otro orden de relación entre tablas)</span>
SELECT users.name, languages.name
FROM users
JOIN users_languages ON users.user_id=users_languages.user_id
JOIN languages ON users_languages.language_id=languages.language_id;</code></pre>
<h4 id=left_join ><a href="#left_join" class=header-anchor >LEFT JOIN</a></h4>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene los datos de todos los usuarios junto a su dni (lo tenga o no)</span>
SELECT * FROM users
LEFT JOIN dni
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene el nombre de todos los usuarios junto a su dni (lo tenga o no)</span>
SELECT name, dni_number FROM users
LEFT JOIN dni
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene todos los dni junto al nombre de su usuario (lo tenga o no)</span>
SELECT name, dni_number FROM dni
LEFT JOIN users
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene el nombre de todos los usuarios junto a sus lenguajes (los tenga o no)</span>
SELECT users.name, languages.name
FROM users
LEFT JOIN users_languages ON users.user_id=users_languages.user_id
LEFT JOIN languages ON users_languages.language_id=languages.language_id;</code></pre>
<h4 id=right_join ><a href="#right_join" class=header-anchor >RIGHT JOIN</a></h4>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene todos los dni junto a su usuario (lo tenga o no)</span>
SELECT * FROM users
RIGHT JOIN dni
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene todos los dni junto al nombre de su usuario (lo tenga o no)</span>
SELECT name, dni_number FROM users
RIGHT JOIN dni
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene el nombre de todos los usuarios junto a su dni (lo tenga o no)</span>
SELECT name, dni_number FROM dni
RIGHT JOIN users
ON users.user_id = dni.user_id;</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Obtiene el nombre de todos los lenguajes junto a sus usuarios (los tenga o no)</span>
SELECT users.name, languages.name
FROM users
RIGHT JOIN users_languages ON users.user_id=users_languages.user_id
RIGHT JOIN languages ON users_languages.language_id=languages.language_id;</code></pre>
<p>Existe otro Join que es para unir la parte izquierda y la parte derecha, pero podemos hacerlo por separado usando UNION.</p>
<h3 id=avanzados ><a href="#avanzados" class=header-anchor >AVANZADOS</a></h3>
<h4 id=index ><a href="#index" class=header-anchor >INDEX</a></h4>
<p>Por lo que estoy entendiendo, los índices nos ayudarían a hacer más eficientes las búsquedas de datos, por ejemplo, estaba viendo que, en el pasado, cuando hicimos:</p>
<pre><code class="julia hljs">SELECT name FROM users WHERE surname=<span class=hljs-string >&quot;Herrera&quot;</span>; <span class=hljs-comment ># selecciona el nombre de los usuarios cuyo apellido es Herrera</span></code></pre>
<p>Esa consulta busca todos los nombres de los usuarios cuyo apellido es &quot;Herrera&quot;. Sin un índice, la base de datos tendría que examinar cada fila de la tabla users para encontrar las que coinciden con el apellido &quot;Herrera&quot;, lo cual puede ser muy ineficiente, especialmente si la tabla es grande.</p>
<p>Al crear un índice en la columna surname, la base de datos puede usar este índice para localizar rápidamente todas las filas que cumplen con el criterio de búsqueda, reduciendo significativamente el tiempo necesario para ejecutar la consulta. </p>
<pre><code class="julia hljs"><span class=hljs-comment ># Crea un índice llamado &quot;idx_name&quot; en la tabla &quot;users&quot; asociado al campo &quot;name&quot;</span>
CREATE INDEX idx_name ON users(name);</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Crea un índice único llamado &quot;idx_name&quot; en la tabla &quot;users&quot; asociado al campo &quot;name&quot;</span>
CREATE UNIQUE INDEX idx_name ON users(name);</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Crea un índice llamado &quot;idx_name_surname&quot; en la tabla &quot;users&quot; asociado a los campos &quot;name&quot; y &quot;surname&quot;</span>
CREATE UNIQUE INDEX idx_name_surname ON users(name, surname);</code></pre>
<pre><code class="julia hljs"><span class=hljs-comment ># Elimina el índice llamado &quot;idx_name&quot;</span>
DROP INDEX idx_name ON users;</code></pre>
<p>Al final del tutorial se vieron algunos concetos avanzados más, que considero que habría que profundizar más en ellos haciendo proyectos o en otra entrada, estos son:</p>
<ol>
<li><p><strong>Triggers &#40;Disparadores&#41;</strong>:</p>
<ul>
<li><p>Son procedimientos automáticos que se ejecutan o se &quot;disparan&quot; en respuesta a eventos específicos dentro de una base de datos, como inserciones, actualizaciones o eliminaciones. El ejemplo que se dio, es crear una nueva tabla en donde se guarde el email anterior cuando alguien hace una actualización de un nuevo email.</p>

</ul>

<li><p><strong>Views &#40;Vistas&#41;</strong>:</p>
<ul>
<li><p>Las vistas son consultas almacenadas que se presentan como si fueran tablas virtuales. Aunque no almacenan datos físicamente, las vistas permiten  interactuar con los datos como si estuvieran trabajando con una tabla estándar. Considero que son útiles para consultas complejas. </p>

</ul>

<li><p><strong>Stored Procedures &#40;Procedimientos Almacenados&#41;</strong>:</p>
<ul>
<li><p>Son colecciones de declaraciones SQL que se compilan y almacenan en la base de datos. Se pueden ejecutar con una llamada simple, lo que facilita reutilizar código SQL y mejorar la seguridad y la eficiencia del rendimiento.</p>

</ul>

<li><p><strong>Transactions &#40;Transacciones&#41;</strong>:</p>
<ul>
<li><p>Una transacción en una base de datos es una secuencia de operaciones que se trata como una única unidad lógica de trabajo. Si todas las operaciones en la transacción se completan con éxito, la transacción se confirma y todos los cambios se hacen permanentes. Si alguna operación falla, la transacción se puede revertir, y el estado de la base de datos vuelve al punto antes de que comenzara la transacción.</p>

</ul>

<li><p><strong>Connectors &#40;Conectores&#41;</strong>:</p>
<ul>
<li><p>Los conectores permiten a las aplicaciones interactuar con una base de datos mediante la ejecución de comandos SQL. Proporcionan métodos para conectarse a la base de datos, ejecutar comandos y gestionar resultados. En pocas palabras, por ejemplo, ejecutar consultas desde Python. </p>

</ul>

</ol>
<!-- <div class=page-foot  style="font-size: 8px; font-family: 'Sans-serif', Arial, sans-serif; text-align: center; color: #666;">
    <span>&copy; {{ fill author }}.</span> 
    {{isnotpage /tag/*}}<span>Última modificación: {{ fill fd_mtime }}.</span>{{end}}
    <br>
    Sitio creado con 
    <a href="https://github.com/tlienart/Franklin.jl" target=_blank  style="color: #90be6d; text-decoration: none;">Franklin.jl</a> 
    y 
    <a href="https://julialang.org" target=_blank  style="color: #90be6d; text-decoration: none;">Julia programming language</a>.
</div> -->
</div>
        </div> 
    </div> 
    
    
        <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>